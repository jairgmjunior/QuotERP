@using Fashion.ERP.Web.Areas.Producao.Models
@model FichaTecnicaBasicosModel
@using (Html.BeginForm(MVC.Producao.FichaTecnica.Basicos(), FormMethod.Post, new {id = "formBasicos", @class = "form-horizontal"}))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummaryEx()
    @Html.HiddenFor(x => x.Id)
    <hr />
    <fieldset>
        <input type="hidden" id="CorsDicionario" data-value = "@ViewBag.CorsDicionarioJson" />
        <input type="hidden" id="VariacaosDicionario" data-value = "@ViewBag.VariacaosDicionarioJson" />
        <legend><small>Dados Básicos</small></legend>
        <div class="row">
            <div class="span4">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.Referencia, new {@class = "title-label"})
                    <div class="controls">
                        @Html.EditorFor(x => x.Referencia) 
                    </div>
                </div>
            </div>  
            <div class="span6">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.Tag)
                    <div class="controls">
                        @Html.TextBoxFor(x => x.Tag, new { @class = "input-small" })
                        @Html.TextBoxFor(x => x.Ano, new { @class = "input-small" })
                        @Html.ValidationMessageFor(x => x.Tag, null, new {@class = "help-block"})
                        @Html.ValidationMessageFor(x => x.Ano, null, new {@class = "help-block"})
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="span4">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.Natureza, new {@class = "title-label"})
                    <div class="controls">
                        @Html.DropDownListFor(x => x.Natureza, null, "-- Selecione --", new {@class = "input-large"})
                        @Html.ValidationMessageFor(x => x.Natureza, null, new {@class = "help-block"})
                    </div>
                </div>
            </div>
            <div class="span6">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.Descricao, new {@class = "title-label"})
                    <div class="controls">
                        @Html.EditorFor(x => x.Descricao) @*colocar disabled*@
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="span4">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.Colecao)
                    <div class="controls">
                        @Html.DropDownListFor(x => x.Colecao, null, "-- Selecione --", new {@class = "input-large"})
                        @Html.ValidationMessageFor(x => x.Colecao, string.Empty, new {@class = "help-block"})
                    </div>
                </div>
            </div>
            <div class="span6">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.Marca, new {@class = "title-label"})
                    <div class="controls">
                        @Html.DropDownListFor(x => x.Marca, null, "-- Selecione --", new {@class = "input-large"})
                        @Html.ValidationMessageFor(x => x.Marca, null, new {@class = "help-block"})
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="span4">
                 <div class="control-group">
                    @Html.LabelForRequired(x => x.Classificacao, new {@class = "title-label"})
                    <div class="controls">
                        @Html.DropDownListFor(x => x.Classificacao, null, "-- Selecione --", new {@class = "input-large"})
                        @Html.ValidationMessageFor(x => x.Colecao, null, new {@class = "help-block"})
                    </div>
                </div>
            </div>
            <div class="span6">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.Artigo, new {@class = "title-label"})
                    <div class="controls">
                        @Html.DropDownListFor(x => x.Artigo, null, "-- Selecione --", new {@class = "input-large"})
                        @Html.ValidationMessageFor(x => x.Artigo, null, new {@class = "help-block"})
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="span4">
               <div class="control-group">
                    @Html.LabelForRequired(x => x.Segmento, new {@class = "title-label"})
                    <div class="controls">
                        @Html.DropDownListFor(x => x.Segmento, null, "-- Selecione --", new {@class = "input-large"})
                        @Html.ValidationMessageFor(x => x.Colecao, null, new {@class = "help-block"})
                    </div>
                </div>
            </div>
            <div class="span6">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.ClassificacaoDificuldade, new {@class = "title-label"})
                    <div class="controls">
                        @Html.DropDownListFor(x => x.ClassificacaoDificuldade, null, "-- Selecione --", new {@class = "input-large"})
                        @Html.ValidationMessageFor(x => x.ClassificacaoDificuldade, null, new {@class = "help-block"})
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="span4">
               <div class="control-group">
                    @Html.LabelForRequired(x => x.Silk, new {@class = "title-label"})
                    <div class="controls">
                        @Html.EditorFor(x => x.Silk)
                        @Html.ValidationMessageFor(x => x.Silk, null, new {@class = "help-block"})
                    </div>
                </div>
            </div>
            <div class="span6">
              <div class="control-group">
                    @Html.LabelForRequired(x => x.Bordado, new {@class = "title-label"})
                    <div class="controls">
                        @Html.EditorFor(x => x.Bordado)
                        @Html.ValidationMessageFor(x => x.Bordado, null, new {@class = "help-block"})
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="span4">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.Pedraria, new {@class = "title-label"})
                    <div class="controls">
                        @Html.EditorFor(x => x.Pedraria)
                        @Html.ValidationMessageFor(x => x.Pedraria, null, new {@class = "help-block"})
                    </div>
                </div>
            </div>
            <div class="span6">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.Detalhamento, new {@class = "title-label"})
                    <div class="controls">
                        @Html.EditorFor(x => x.Detalhamento)
                        @Html.ValidationMessageFor(x => x.Detalhamento, null, new {@class = "help-block"})
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="span4">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.Estilista)
                    <div class="controls">
                        @Html.HiddenFor(x => x.Estilista, new { id = "funcionario" })
                        <div class="input-append">
                            <input id="codigo-funcionario" class="input-small numeric-only" type="text" />
                            <button id="pesquisar-funcionario" class="btn" type="button"><i class="icon-search"></i></button>
                            <span id="descricao-funcionario" class="add-on"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="span4">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.Observacao, new {@class = "title-label"})
                    <div class="controls">
                        @Html.EditorFor(x => x.Observacao) 
                    </div>
                </div>
            </div>
            <div class="span6">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.Catalogo, new {@class = "title-label"})
                    <div class="controls">
                        @Html.EditorFor(x => x.Catalogo)
                    </div>
                </div>
            </div>
        </div>
    </fieldset>    
    <hr />
    <fieldset>
        <legend><small>Dados da Matriz</small></legend>
        <div class="row">
            <div class="span4">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.Grade, new {@class = "title-label"})
                    <div class="controls">
                        @Html.DropDownListFor(x => x.Grade, null, "-- Selecione --", new {@class = "input-large"})
                    </div>
                </div>
            </div>
        </div>
        <div class="control-group">
            @Html.LabelForRequired(x => x.GridFichaTecnicaVariacao, new {@class = "control-label"})
            <div class="controls">
                @(Html.Kendo().Grid(Model.GridFichaTecnicaVariacao)
                        .Name("GridFichaTecnicaVariacao")
                        .Editable(e => e.Mode(GridEditMode.InCell).DisplayDeleteConfirmation("Tem certeza que deseja excluir esse item?"))
                        .Navigatable()
                        .Columns(columns =>
                        {
                            columns.Bound(x => x.Variacao).EditorTemplateName("VariacaoList").Width(250)
                                .ClientTemplate("#= displayVariacao(Variacao) #<input type='hidden' name='GridFichaTecnicaVariacao[#= indexGridFichaTecnicaVariacao(data)#].Variacao' value='#= Variacao #' />");
                            columns.Bound(x => x.Cor).EditorTemplateName("CorList").Width(250)
                                .ClientTemplate("#= displayCor(Cor) #<input type='hidden' name='GridFichaTecnicaVariacao[#= indexGridFichaTecnicaVariacao(data)#].Cor' value='#= Cor #' />");
                            columns.Command(command => command.Destroy().Text("Excluir")).Width(100);
                        }
                        )
                        .DataSource(dataSource => dataSource
                            .Ajax()
                            .Model(model => model.Id(e => e.Id))
                            .Create(update => update.Action("EditingInline_Create", "FichaTecnica"))
                            .Read(read => read.Action("EditingInline_Read", "FichaTecnica"))
                            .Update(update => update.Action("EditingInline_Update", "FichaTecnica"))
                            .Destroy(update => update.Action("EditingInline_Destroy", "FichaTecnica"))
                        )
                        .ToolBar(toolbar => toolbar.Create().Text("Incluir"))
                        )
            </div>
        </div>
    </fieldset>    
    <hr />
    <fieldset>
        <legend><small>Dados Específicos de Jeans</small></legend>
        <div class="row">
            <div class="span4">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.ProdutoBase, new {@class = "title-label"})
                    <div class="controls">
                        @Html.DropDownListFor(x => x.ProdutoBase, null, "-- Selecione --", new {@class = "input-large"})
                    </div>
                </div>
            </div>
            <div class="span6">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.MedidaBarra, new {@class = "title-label"})
                    <div class="controls">
                        @Html.EditorFor(x => x.MedidaBarra) 
                    </div>
                </div>
            </div>
        </div>    
        <div class="row">
            <div class="span4">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.MedidaPassante, new {@class = "title-label"})
                    <div class="controls">
                        @Html.EditorFor(x => x.MedidaPassante) 
                    </div>
                </div>
            </div>
            <div class="span6">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.Comprimento, new {@class = "title-label"})
                    <div class="controls">
                        @Html.DropDownListFor(x => x.Comprimento, null, "-- Selecione --", new {@class = "input-large"})
                    </div>
                </div>
            </div>
        </div>  
        <div class="row">
            <div class="span4">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.Barra, new {@class = "title-label"})
                    <div class="controls">
                        @Html.DropDownListFor(x => x.Barra, null, "-- Selecione --", new {@class = "input-large"})
                    </div>
                </div>
            </div>
            <div class="span6">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.Lavada, new {@class = "title-label"})
                    <div class="controls">
                        @Html.EditorFor(x => x.Lavada) 
                    </div>
                </div>
            </div>
        </div>  
        <div class="row">
            <div class="span4">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.MedidaCos, new {@class = "title-label"})
                    <div class="controls">
                        @Html.EditorFor(x => x.MedidaCos)
                    </div>
                </div>
            </div>
            <div class="span6">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.Pesponto, new {@class = "title-label"})
                    <div class="controls">
                        @Html.EditorFor(x => x.Pesponto) 
                    </div>
                </div>
            </div>
        </div> 
        <div class="row">
            <div class="span6">
                <div class="control-group">
                    @Html.LabelForRequired(x => x.MedidaComprimento, new {@class = "title-label"})
                    <div class="controls">
                        @Html.EditorFor(x => x.MedidaComprimento)
                    </div>
                </div>
            </div>
        </div>
    </fieldset>
    <hr />
    <div class="form-actions">
        @Html.SubmitButtonAuth(MVC.Producao.FichaTecnica.Basicos(), "btnSubmitBasicos")
        @Html.ExcluirAuth(MVC.Producao.FichaTecnica.Excluir(Model.Id))
    </div>
}
@{
    
    Html.RenderAction("Pesquisar", "Funcionario", new { area = "Comum" });
    Html.RenderPartial("_ConfirmDelete");
}