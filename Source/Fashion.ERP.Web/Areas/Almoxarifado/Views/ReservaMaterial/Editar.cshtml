@model Fashion.ERP.Web.Areas.Almoxarifado.Models.ReservaMaterialModel
@using (Html.BeginForm(MVC.Almoxarifado.ReservaMaterial.Editar(), FormMethod.Post, new { id="form", @class = "form-horizontal" })) {
	@Html.AntiForgeryToken()
    @Html.ValidationSummaryEx()
	@Html.HiddenFor(x => x.Id)
    @Html.Partial("_NovoOuEditar", Model)

    if (@Model.PermiteAlterar)
    {
        <div class="row">
            <div class="col-sm-6 form-group" style="margin-top:25px"> 
                <div class="col-sm-offset-4 col-md-offset-3 col-sm-8 col-md-9">
                    <button id="btnSubmit" class="btn btn-primary" type="submit" data-loading-text="Aguarde...">Salvar</button>
                    @Html.ExcluirAuth(MVC.Almoxarifado.RequisicaoMaterial.Excluir(Model.Id))
                </div>
            </div>
        </div>
    }
    else
    {
        <br/>
        <div class="alert alert-info">
            Não é possível alterar uma reserva de material criada por uma requisição de material ou programação de produção.
        </div>
    }
}
@{
    Html.RenderAction("Pesquisar", "Funcionario", new { area = "Comum" });
    Html.RenderAction("Pesquisar", "Material", new { area = "Almoxarifado" });
    Html.RenderPartial("_ConfirmDelete");
}

<script>
    function obtenhaUrlActionSubmit() {
        return '@Url.Action("Editar", "ReservaMaterial")';
    }

    $(document).ready(function () {

        $("#Data").data("kendoDatePicker").enable(false);
        $("#Numero").attr("disabled", "disabled");

        $("#Unidade").prop("disabled", true);
    });
</script>    