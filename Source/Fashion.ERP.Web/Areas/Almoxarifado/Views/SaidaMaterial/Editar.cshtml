@model Fashion.ERP.Web.Areas.Almoxarifado.Models.SaidaMaterialModel
@using (Html.BeginForm(MVC.Almoxarifado.SaidaMaterial.Editar(), FormMethod.Post, new { id="form", @class = "form-horizontal" })) {
	@Html.AntiForgeryToken()
    @Html.ValidationSummaryEx()
	@Html.HiddenFor(x => x.Id)
    @Html.Partial("_NovoOuEditar", Model)

    if (@Model.PermiteAlterar)
    {
        <div class="row">
            <div class="col-sm-6 form-group"> 
                <div class="col-sm-offset-4 col-md-offset-3 col-sm-8 col-md-9">
		            <button id="btnSubmit" class="btn btn-primary" type="submit" data-loading-text="Aguarde...">Salvar</button>
		            @Html.ExcluirAuth(MVC.Almoxarifado.EntradaMaterial.Excluir(Model.Id))
                </div>
            </div>     
         </div>
    }
    else
    {
        <br/>
        <div class="row">
            <div class="alert alert-info">
                Não é possível alterar uma saída de material criada pela baixa de uma requisição de material.
            </div>
        </div>
    }
}

@{
    Html.RenderPartial("_ConfirmDelete");
    Html.RenderAction("Pesquisar", "CentroCusto", new { area = "Comum" });
    Html.RenderAction("Pesquisar", "Material", new { area = "Almoxarifado" });
}