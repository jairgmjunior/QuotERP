@using Fashion.ERP.Web.Areas.Comum.Models
@using Fashion.Framework.Mvc.Extensions
@using Kendo.Mvc.UI

@{
    Layout = null;
}
@Html.ValidationSummaryEx()
@(Html.Kendo().Grid<GridReferenciaModel>()
      .Name("grid-referencia")
      .Columns(columns =>
        {
            columns.Bound(p => p.TipoReferencia);
            columns.Bound(p => p.Nome);
            columns.Bound(p => p.Telefone);
            columns.Command(command => command.Destroy().Text("Excluir")).Width(90);
        })
      .Pageable(x => x.Refresh(true))
      .Scrollable(x => x.Height(100))
      .DataSource(dataSource => dataSource.Ajax()
            .Model(m => m.Id(p => p.Id))
            .Read(builder => builder.Action("LerReferencias", "Referencia", new {clienteId = TempData["clienteId"]}).Type(HttpVerbs.Get))
            .Destroy("Excluir", "Referencia")
            .Events(e => e.Error("onKendoGridError"))
      )
      .AutoBind(true)
      .EnableCustomBinding(true))